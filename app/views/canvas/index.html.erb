<html> 
<body>
<div>
<h2 style="display:inline-block;">Es el turno de <span id="info" style="color: red">X</span> </h2>
<div>
<table align="center">
  <tr>
    <td id="00"></td>
    <td id="01"></td>
    <td id="02"></td>
  </tr>
  <tr>
    <td id="10"></td>
    <td id="11"></td>
    <td id="12"></td>
  </tr>
  <tr>
    <td id="20"></td>
    <td id="21"></td>
    <td id="22"></td>
  </tr>
</table>

<script>
var tablero = new Object();
tablero["00"] = "";
tablero["01"] = "";
tablero["02"] = "";
tablero["10"] = "";
tablero["11"] = "";
tablero["12"] = "";
tablero["20"] = "";
tablero["21"] = "";
tablero["22"] = "";
var turn = 0;

document.getElementById("00").onclick = function() {
    if (turn == 0 && tablero["00"] == ""){
      changeX("00");
    }else if (turn == 1 && tablero["00"] == ""){
      changeO("00");
    }
  };
document.getElementById("01").onclick = function() {
    if (turn == 0 && tablero["01"] == ""){
      changeX("01");
    }else if (turn == 1 && tablero["01"] == ""){
      changeO("01");
    }
  };
document.getElementById("02").onclick = function() {
    if (turn == 0 && tablero["02"] == ""){
      changeX("02");
    }else if (turn == 1 && tablero["02"] == ""){
      changeO("02");
    }
  };
document.getElementById("10").onclick = function() {
    if (turn == 0 && tablero["10"] == ""){
      changeX("10");
    }else if (turn == 1 && tablero["10"] == ""){
      changeO("10");
    }
  };
document.getElementById("11").onclick = function() {
    if (turn == 0 && tablero["11"] == ""){
      changeX("11");
    }else if (turn == 1 && tablero["11"] == ""){
      changeO("11");
    }
  };
document.getElementById("12").onclick = function() {
    if (turn == 0 && tablero["12"] == ""){
      changeX("12");
    }else if (turn == 1 && tablero["12"] == ""){
      changeO("12");
    }
  };
document.getElementById("20").onclick = function() {
    if (turn == 0 && tablero["20"] == ""){
      changeX("20");
    }else if (turn == 1 && tablero["20"] == ""){
      changeO("20");
    }
  };
document.getElementById("21").onclick = function() {
    if (turn == 0 && tablero["21"] == ""){
      changeX("21");
    }else if (turn == 1 && tablero["21"] == ""){
      changeO("21");
    }
  };
document.getElementById("22").onclick = function() {
    if (turn == 0 && tablero["22"] == ""){
      changeX("22");
    }else if (turn == 1 && tablero["22"] == ""){
      changeO("22");
    }
  };

function changeX(id) {
    document.getElementById(id).style.backgroundImage = "url('/assets/x.png')";
    turn = turn +1;
    tablero[id] = "X";
    document.getElementById("info").innerHTML = "O";
    document.getElementById("info").style.color = "blue";
    check();
}

function changeO(id) {
    document.getElementById(id).style.backgroundImage = "url('/assets/o.png')";
    turn = turn -1;
    tablero[id] = "O";
    document.getElementById("info").innerHTML = "X";
    document.getElementById("info").style.color = "red";
    check();
}

function check(){
  if (tablero["00"] != "" && tablero["00"] == tablero["01"] && tablero["01"]==tablero["02"]){
    window.alert(tablero["00"] + " gana!!!");
    erase();
  }
  if (tablero["10"] != "" && tablero["10"] == tablero["11"] && tablero["11"]==tablero["12"]){
    window.alert(tablero["10"] + " gana!!!");
    erase();
  }
  if (tablero["20"] != "" && tablero["20"] == tablero["21"] && tablero["21"]==tablero["22"]){
    window.alert(tablero["20"] + " gana!!!");
    erase();
  }
  if (tablero["00"] != "" && tablero["00"] == tablero["10"] && tablero["10"]==tablero["20"]){
    window.alert(tablero["00"] + " gana!!!");
    erase();
  }
  if (tablero["01"] != "" && tablero["01"] == tablero["11"] && tablero["11"]==tablero["21"]){
    window.alert(tablero["01"] + " gana!!!");
    erase();
  }
  if (tablero["02"] != "" && tablero["02"] == tablero["12"] && tablero["12"]==tablero["22"]){
    window.alert(tablero["02"] + " gana!!!");
    erase();
  }
  if (tablero["00"] != "" && tablero["00"] == tablero["11"] && tablero["11"]==tablero["22"]){
    window.alert(tablero["00"] + " gana!!!");
    erase();
  }
  if (tablero["02"] != "" && tablero["02"] == tablero["11"] && tablero["11"]==tablero["20"]){
    window.alert(tablero["02"] + " gana!!!");
    erase();
  }
  else{
    tie();
  }
}

function erase(){
  for (var c in tablero) {
    if (tablero.hasOwnProperty(c)) {
        tablero[c] = "";
        document.getElementById(c).style.backgroundImage = "none";
	turno = 0;
    }
  }
}

function tie(){
  var empty = 0;
  for (var c in tablero) {
    if (tablero.hasOwnProperty(c)) {
        if (tablero[c] == ""){
	  empty = empty +1;	
	}
    }
  }
  if (empty == 0){
    window.alert("¡¡¡EMPATE!!!");
    erase();
  }
}
</script>

</body> 
</html>
